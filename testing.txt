array lvl1 # # #
array lvl2 # # #
array lvl3 # # #
var lvl 2
var coord 2
fn ask input head direction? & if head == > run right & if head == < run left & if head == ^ run up & if head == \ run down
fn left var coord ($coord_-_1) & run compile
fn right var coord ($coord_+_1) & run compile
fn up var lvl ($lvl_-_1) & run compile
fn down var lvl ($lvl_+_1) & run compile
fn compile concat temp lvl $lvl & array lvl1 # # # & array lvl2 # # # & array lvl3 # # # & insert $temp $coord @ & run output
fn output concat ptemp1 ^lvl1|1 ^lvl1|2 ^lvl1|3 & concat ptemp2 ^lvl2|1 ^lvl2|2 ^lvl2|3 & concat ptemp3 ^lvl3|1 ^lvl3|2 ^lvl3|3 & print $ptemp1 & print $ptemp2 & print $ptemp3 